{"version":3,"sources":["components/TodoList/TodoList.jsx","types.js","API/api.js","components/CurrentUser/CurrentUser.jsx","App.jsx","index.js"],"names":["TodoList","propTypes","number","isRequired","string","bool","state","titleFilter","filterBy","changeFilter","event","target","name","value","setState","this","props","todos","selectUser","selectedUserId","filteredTodos","filter","todo","title","includes","String","completed","className","type","onChange","selected","map","key","id","classNames","readOnly","userId","onClick","React","PureComponent","API_URL","getTodos","a","fetch","response","ok","Error","json","data","getUserInfo","user","CurrentUser","getUser","prevProps","clearSelectedUser","email","phone","Component","App","then","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5656025c.chunk.js","sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport propTypes from 'prop-types';\nimport { TodoType } from '../../types';\nimport './TodoList.scss';\n\nexport class TodoList extends React.PureComponent {\n  state = {\n    titleFilter: '',\n    filterBy: 'all',\n  }\n\n  changeFilter = (event) => {\n    const { name, value } = event.target;\n\n    this.setState({ [name]: value });\n  }\n\n  render() {\n    const { todos, selectUser, selectedUserId } = this.props;\n    const { titleFilter, filterBy } = this.state;\n    const filteredTodos = todos.filter(\n      todo => (todo.title.includes(titleFilter))\n       && ((String(todo.completed) === filterBy) || filterBy === 'all'),\n    );\n\n    return (\n      <div className=\"TodoList\">\n        <input\n          type=\"text\"\n          name=\"titleFilter\"\n          value={this.state.titleFilter}\n          onChange={this.changeFilter}\n        />\n\n        <select name=\"filterBy\" onChange={this.changeFilter}>\n          <option value=\"all\" selected>\n            All\n          </option>\n\n          <option value=\"false\">\n            Active\n          </option>\n\n          <option value=\"true\">\n            Completed\n          </option>\n        </select>\n\n        <h2>Todos:</h2>\n\n        <div className=\"TodoList__list-container\">\n          <ul className=\"TodoList__list\">\n            {filteredTodos.map(todo => (\n              <li\n                key={todo.id}\n                className={classNames(\n                  'TodoList__item',\n                  `TodoList__item--${todo.completed ? 'checked' : 'unchecked'}`,\n                )}\n              >\n                <label>\n                  <input type=\"checkbox\" readOnly />\n                  <p>{todo.title}</p>\n                </label>\n\n                <button\n                  className={classNames(\n                    `TodoList__user-button${\n                      selectedUserId === todo.userId && '--selected'\n                    }`,\n                    'button',\n                  )}\n                  type=\"button\"\n                  onClick={() => selectUser(todo.userId)}\n                >\n                  User&nbsp;\n                  {`#${todo.userId}`}\n                </button>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nTodoList.propTypes = {\n  todos: propTypes.arrayOf(propTypes.shape(TodoType)).isRequired,\n  selectUser: propTypes.func.isRequired,\n  selectedUserId: propTypes.number.isRequired,\n};\n","import propTypes from 'prop-types';\n\nexport const TodoType = {\n  id: propTypes.number.isRequired,\n  userId: propTypes.number.isRequired,\n  title: propTypes.string.isRequired,\n  completed: propTypes.bool.isRequired,\n};\n","const API_URL = 'https://mate-api.herokuapp.com';\n\nexport const getTodos = async() => {\n  try {\n    const response = await fetch(`${API_URL}/todos`);\n\n    if (!response.ok) {\n      throw new Error();\n    }\n\n    const todos = await response.json();\n\n    return todos.data.filter(todo => todo.title);\n  } catch {\n    return [];\n  }\n};\n\nexport async function getUserInfo(userId) {\n  try {\n    const response = await fetch(`${API_URL}/users/${userId}`);\n    const user = await response.json();\n\n    return user.data ? user.data : Error('User does not exist');\n  } catch (error) {\n    return new Error(error);\n  }\n}\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport './CurrentUser.scss';\nimport { getUserInfo } from '../../API/api';\n\nexport class CurrentUser extends React.Component {\n  state = {\n    user: null,\n  }\n\n  async componentDidMount() {\n    this.getUser();\n  }\n\n  async componentDidUpdate(prevProps) {\n    if (prevProps.userId !== this.props.userId) {\n      this.getUser();\n    }\n  }\n\n  getUser = async() => {\n    const user = await getUserInfo(this.props.userId);\n\n    this.setState({\n      user,\n    });\n  }\n\n  render() {\n    const { clearSelectedUser } = this.props;\n    const { user } = this.state;\n\n    return user ? (\n      <div className=\"CurrentUser\">\n        <h2 className=\"CurrentUser__title\">\n          <span>\n            Selected user:\n            {user.id}\n          </span>\n        </h2>\n\n        <h3 className=\"CurrentUser__name\">\n          {user.name}\n        </h3>\n        <p className=\"CurrentUser__email\">\n          {user.email}\n        </p>\n        <p className=\"CurrentUser__phone\">\n          {user.phone}\n        </p>\n\n        <button\n          type=\"button\"\n          className=\"button__clear\"\n          onClick={clearSelectedUser}\n        >\n          Clear\n        </button>\n      </div>\n    ) : (\n      <p>Loading...</p>\n    );\n  }\n}\n\nCurrentUser.propTypes = {\n  clearSelectedUser: propTypes.func.isRequired,\n  userId: propTypes.number.isRequired,\n};\n","import React from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { getTodos } from './API/api';\n\nclass App extends React.Component {\n  state = {\n    todos: [],\n    selectedUserId: 0,\n  };\n\n  componentDidMount() {\n    getTodos()\n      .then((todos) => {\n        this.setState({ todos });\n      });\n  }\n\n  selectUser = (id) => {\n    this.setState({\n      selectedUserId: id,\n    });\n  }\n\n  clearSelectedUser = () => {\n    this.setState({\n      selectedUserId: 0,\n    });\n  }\n\n  render() {\n    const { todos, selectedUserId } = this.state;\n\n    return (\n      <div className=\"App\">\n        <div className=\"App__sidebar\">\n          <TodoList\n            todos={todos}\n            selectUser={this.selectUser}\n            selectedUserId={selectedUserId}\n          />\n        </div>\n\n        <div className=\"App__content\">\n          <div className=\"App__content-container\">\n            {selectedUserId > 0 ? (\n              <CurrentUser\n                userId={selectedUserId}\n                clearSelectedUser={this.clearSelectedUser}\n              />\n            ) : 'No user selected'}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}